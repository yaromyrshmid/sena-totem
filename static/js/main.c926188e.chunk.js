(window["webpackJsonpsena-totem"]=window["webpackJsonpsena-totem"]||[]).push([[0],{158:function(e,t,a){e.exports=a.p+"static/media/logo.edfb4b75.jpg"},167:function(e,t,a){e.exports=a(314)},175:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(49),c=a.n(r),o=a(35),i=a(10),u=a(46),m=a(152),s=(a(175),a(39)),p=a(45),E=a(325),b=a(321),y=a(13),d=a(5),f=a(317),h=a(318),O=a(319),g=a(72),P=a.n(g),v=P.a.create({baseURL:"https://sena-totem.firebaseio.com/"}),S=function(e){return{type:"SET_DATA_EXP",exp:e}},x=function(e){return{type:"SET_DATA_INC",inc:e}},q=function(e){return{type:"SET_DATA_COMPLECTS",complects:e}},T=function(e,t){return{type:"LOG_IN_SUCCESS",idToken:e,userId:t}},D=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"LOG_OUT"}},j=function(e){return function(t){setTimeout((function(){t(D())}),1e3*e)}};function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var N=Object(i.b)((function(e){return{expData:e.data.expData,lists:e.data.lists,idToken:e.auth.idToken}}),(function(e){return{setDataExp:function(t){return e(S(t))}}}))((function(e){var t=e.lists.wares.map((function(e){return l.a.createElement("option",{key:e,value:e})})),a=e.lists.subwares.map((function(e){return l.a.createElement("option",{key:e,value:e})})),n=e.lists.exps.map((function(e){return l.a.createElement("option",{key:e,value:e})})),r=e.lists.colors.map((function(e){return l.a.createElement("option",{key:e,value:e})}));return l.a.createElement(d.e,{initialValues:{type:"",name:"",color:"",quantity:"",totalPrice:""},validate:function(e){var t={};return e.type||(t.type="\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u043e\u0431\u0440\u0430\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e!"),e.name||(t.name="\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u043d\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0443!"),!isNaN(e.quantity)&&(0!==e.quantity&&""!==e.quantity||"\u0422\u043e\u0432\u0430\u0440"!==e.type&&"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"!==e.type)||(t.quantity="\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c!"),e.totalPrice&&!isNaN(e.totalPrice)||(t.totalPrice="\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c!"),t},onSubmit:function(t,a,n){var l=a.setSubmitting,r=a.resetForm;t.time=(new Date).toISOString().split("T")[0],""===t.color.trim()&&(t.color="\u043d/\u0437"),t.quantity=Number(t.quantity),t.totalPrice=Number(t.totalPrice),v.post("/exp.json?auth="+e.idToken,t).then((function(a){console.log(a),l(!1);var c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.expData,Object(y.a)({},a.data.name,t));e.setDataExp(c),r(n)})).catch((function(e){console.log(e)}))}},(function(e){var c=e.isSubmitting,o=e.values,i=e.setFieldValue;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement(d.d,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement(d.b,{className:"radioInput",type:"radio",name:"type",value:"\u0422\u043e\u0432\u0430\u0440",checked:"\u0422\u043e\u0432\u0430\u0440"===o.type,onChange:function(){return i("type","\u0422\u043e\u0432\u0430\u0440")}}),l.a.createElement("label",null,"\u0422\u043e\u0432\u0430\u0440"),l.a.createElement(d.b,{className:"radioInput",type:"radio",name:"type",value:"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440",checked:"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===o.type,onChange:function(){return i("type","\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440")}}),l.a.createElement("label",null,"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"),l.a.createElement(d.b,{className:"radioInput",type:"radio",name:"type",value:"\u0412\u0438\u0442\u0440\u0430\u0442\u0430",checked:"\u0412\u0438\u0442\u0440\u0430\u0442\u0430"===o.type,onChange:function(){return i("type","\u0412\u0438\u0442\u0440\u0430\u0442\u0430")}}),l.a.createElement("label",null,"\u0412\u0438\u0442\u0440\u0430\u0442\u0430"),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"type"})))),l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement(d.b,{name:"name",list:"name"}),l.a.createElement("datalist",{id:"name"},"\u0422\u043e\u0432\u0430\u0440"===o.type&&t,"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===o.type&&a,"\u0412\u0438\u0442\u0440\u0430\u0442\u0430"===o.type&&n),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"name"})),l.a.createElement("label",null,"\u041a\u043e\u043b\u0456\u0440"),l.a.createElement(d.b,{name:"color",list:"color"}),l.a.createElement("datalist",{id:"color"},r),l.a.createElement("label",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"),l.a.createElement(d.b,{className:"input-number",name:"quantity",type:"number",disabled:"\u0412\u0438\u0442\u0440\u0430\u0442\u0430"===o.type}),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"quantity"})),l.a.createElement("label",null,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"),l.a.createElement(d.b,{className:"input-number",name:"totalPrice",type:"number"}),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"totalPrice"})),l.a.createElement("label",null,"\u0426\u0456\u043d\u0430 \u0437\u0430 \u043e\u0434\u0438\u043d\u0438\u0446\u044e"),l.a.createElement(d.b,{className:"input-number",name:"price",value:isNaN(o.totalPrice/o.quantity)||"\u0412\u0438\u0442\u0440\u0430\u0442\u0430"===o.type?0:(o.totalPrice/o.quantity).toFixed(2),onChange:function(){return i("price",o.totalPrice/o.quantity)},disabled:!0}))),l.a.createElement(h.a,null,l.a.createElement(O.a,{xs:{span:3,offset:9}},l.a.createElement("button",{className:"submitData",type:"submit",disabled:c},"\u0412\u043d\u0435\u0441\u0442\u0438")))))))}))})),F=a(320),C=Object(i.b)((function(e){return{expData:e.data.expData,idToken:e.auth.idToken}}),(function(e){return{setDataExp:function(t){return e(S(t))}}}))((function(e){var t=function(t){var a=t.target.id;v.delete("/exp/"+a+".json?auth="+e.idToken).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var n={};for(var l in e.expData)l!==a&&(n[l]=e.expData[l]);e.setDataExp(n)},a=e.expData?Object.keys(e.expData).reverse().map((function(a,n){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,n+1),l.a.createElement("td",null,e.expData[a].time),l.a.createElement("td",null,e.expData[a].type),l.a.createElement("td",null,e.expData[a].name),l.a.createElement("td",null,e.expData[a].color),l.a.createElement("td",null,e.expData[a].quantity),l.a.createElement("td",null,e.expData[a].totalPrice),l.a.createElement("td",null,(e.expData[a].totalPrice/e.expData[a].quantity).toFixed(2)),l.a.createElement("td",null,l.a.createElement("button",{id:a,onClick:t},"x")))})):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u0414\u0430\u0442\u0430"),l.a.createElement("th",null,"\u0422\u0438\u043f"),l.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement("th",null,"\u041a\u043e\u043b\u0456\u0440"),l.a.createElement("th",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"),l.a.createElement("th",null,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"),l.a.createElement("th",null,"\u0426\u0456\u043d\u0430 \u0437\u0430 \u043e\u0434\u0438\u043d\u0438\u0446\u044e"),l.a.createElement("th",null,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"))),l.a.createElement("tbody",null,a)))}));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var A=Object(i.b)((function(e){return{incData:e.data.incData,lists:e.data.lists,complectsData:e.data.complectsData,idToken:e.auth.idToken}}),(function(e){return{setDataInc:function(t){return e(x(t))}}}))((function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),r=a[0],c=a[1],o=e.lists.wares.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})),i=e.lists.subwares.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})),u=e.lists.colors.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}));return l.a.createElement(d.e,{initialValues:{price:"",income:[{type:"",name:"",color:"\u043d/\u0437",quantity:""}]},validate:function(e){var t={};return e.price&&!isNaN(e.price)||(t.price="\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u0446\u0456\u043d\u0430!"),e.income.length<1&&(t.income="\u041d\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u043e \u0442\u043e\u0432\u0430\u0440\u0443!"),e.income.map((function(a,n){e.income[n].type||(t.type="\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f \u0442\u043e\u0432\u0430\u0440\u0443 \u043d\u0435 \u043e\u0431\u0440\u0430\u043d\u0430!"),e.income[n].name&&"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"!==e.income[n].name||(t.name="\u041d\u0430\u0437\u0432\u0430 \u0442\u043e\u0432\u0430\u0440\u0443 \u043d\u0435 \u043e\u0431\u0440\u0430\u043d\u0430!"),(isNaN(e.income[n].quantity)||0===e.income[n].quantity||""===e.income[n].quantity)&&(t.quantity="\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c!")})),t},isSubmitting:!1,onSubmit:function(t,a,n){var l=a.setSubmitting,r=a.resetForm;t.time=(new Date).toISOString().split("T")[0],v.post("/inc.json?auth="+e.idToken,t).then((function(a){console.log(a),l(!1);var c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.incData,Object(y.a)({},a.data.name,t));e.setDataInc(c),r(n)})).catch((function(e){console.log(e)}))},render:function(t){var a=t.isSubmitting,n=t.values,m=t.setFieldValue;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement(d.d,null,l.a.createElement(h.a,null,l.a.createElement(O.a,{xs:2},l.a.createElement("label",null,"\u0426\u0456\u043d\u0430",l.a.createElement(d.b,{className:"input-number",name:"price",type:"number"}),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"price"})),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"type"})),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"name"})),l.a.createElement("span",{className:"errorMessage"},l.a.createElement(d.a,{name:"quantity"})))),l.a.createElement(O.a,{xs:10},l.a.createElement("button",{type:"button",onClick:function(){return function(t){if(t.income.length>0)if(t.income[0].quantity>0&&"\u043d/\u0437"!==t.income[0].color)if("\u0422\u043e\u0432\u0430\u0440"===t.income[0].type&&1===t.income.length&&""!==t.income[0].name){c(null);var a=null;Object.keys(e.complectsData).map((function(n){e.complectsData[n].name===t.income[0].name&&(a=e.complectsData[n].complect)})),a.map((function(e){t.income.push({type:"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440",name:e.name,color:e.copyColor?t.income[0].color:"\u043d/\u0437",quantity:t.income[0].quantity})})),c(l.a.createElement("span",null,"\u0413\u043e\u0442\u043e\u0432\u043e!"))}else c(l.a.createElement("span",{className:"errorMessage"},"\u041d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e \u0442\u043e\u0432\u0430\u0440!"));else c(l.a.createElement("span",{className:"errorMessage"},"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0430\u0431\u043e \u043a\u043e\u043b\u0456\u0440!"));else c(l.a.createElement("span",{className:"errorMessage"},"\u041d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e \u0442\u043e\u0432\u0430\u0440!"))}(n)}}," \u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442 "),r)),l.a.createElement(d.c,{name:"income",render:function(e){return l.a.createElement(l.a.Fragment,null,n.income&&n.income.length>0?n.income.map((function(t,a){return l.a.createElement(h.a,{key:a},l.a.createElement(O.a,null,l.a.createElement("fieldset",null,l.a.createElement(d.b,{className:"radioInput",type:"radio",name:"income.".concat(a,".type"),value:"\u0422\u043e\u0432\u0430\u0440",checked:"\u0422\u043e\u0432\u0430\u0440"===n.income[a].type,onChange:function(){return m("income.".concat(a,".type"),"\u0422\u043e\u0432\u0430\u0440")}}),l.a.createElement("label",null,"\u0422\u043e\u0432\u0430\u0440"),l.a.createElement(d.b,{className:"radioInput",type:"radio",name:"income.".concat(a,".type"),value:"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440",checked:"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===n.income[a].type,onChange:function(){return m("income.".concat(a,".type"),"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440")}}),l.a.createElement("label",null,"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440")),l.a.createElement("fieldset",null,l.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement(d.b,{component:"select",name:"income.".concat(a,".name")},l.a.createElement("option",{value:"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"},"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"),"\u0422\u043e\u0432\u0430\u0440"===n.income[a].type&&o,"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===n.income[a].type&&i),l.a.createElement("label",null,"\u041a\u043e\u043b\u0456\u0440"),l.a.createElement(d.b,{component:"select",name:"income.".concat(a,".color")},u),l.a.createElement("label",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"),l.a.createElement(d.b,{className:"input-number",name:"income.".concat(a,".quantity"),type:"number"})),l.a.createElement("button",{className:"button-x",type:"button",onClick:function(){return e.remove(a)}},"x")))})):null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement("button",{type:"button",onClick:function(){e.push({type:"",name:"\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443",color:"\u043d/\u0437",quantity:""})}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u044f\u0434\u043e\u043a"))),l.a.createElement(h.a,null,l.a.createElement(O.a,{xs:{span:3,offset:9}},l.a.createElement("button",{className:"submitData",type:"submit",disabled:a},"\u0412\u043d\u0435\u0441\u0442\u0438"))))}})))))}})})),L=Object(i.b)((function(e){return{incData:e.data.incData,loaded:e.data.loaded,idToken:e.auth.idToken}}),(function(e){return{setDataInc:function(t){return e(x(t))}}}))((function(e){var t=function(t){var a=t.target.id;v.delete("/inc/"+a+".json?auth="+e.idToken).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var n={};for(var l in e.incData)l!==a&&(n[l]=e.incData[l]);e.setDataInc(n)},a=e.loaded?Object.keys(e.incData).reverse().map((function(a,n){var r=e.incData[a].income.map((function(e,t){return l.a.createElement("tr",{key:"".concat(a,"_").concat(t)},l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.color),l.a.createElement("td",null,e.quantity),l.a.createElement("td",null),l.a.createElement("td",null))}));return l.a.createElement("tbody",{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,n+1),l.a.createElement("td",null,e.incData[a].time),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,e.incData[a].price),l.a.createElement("td",null,l.a.createElement("button",{id:a,onClick:t},"x"))),r)})):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u0414\u0430\u0442\u0430"),l.a.createElement("th",null,"\u0422\u0438\u043f"),l.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement("th",null,"\u041a\u043e\u043b\u0456\u0440"),l.a.createElement("th",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"),l.a.createElement("th",null,"\u0426\u0456\u043d\u0430"),l.a.createElement("th",null,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"))),a))})),R=Object(i.b)((function(e){return{expTable:e.tables.expTable,incTable:e.tables.incTable,loaded:e.tables.loaded}}))((function(e){var t={quantityE:0,totalPriceE:0,quantityI:0,totalPriceI:0,quantityS:0,totalPriceS:0},a=e.loaded?Object.keys(e.expTable.ware).sort().map((function(a,n){var r={};r.name=a,r.colors=[];for(var c=0;c<e.expTable.ware[a].length;c++){var o={};if(o.color=e.expTable.ware[a][c].color,o.quantityE=e.expTable.ware[a][c].quantity,o.totalPriceE=e.expTable.ware[a][c].totalPrice,o.priceE=e.expTable.ware[a][c].price,e.incTable.ware[a]){for(var i=!1,u=0;u<e.incTable.ware[a].length;u++)e.incTable.ware[a][u].color===o.color&&(i=u);"number"==typeof i?(o.quantityI=e.incTable.ware[a][i].quantity,o.totalPriceI=e.incTable.ware[a][i].totalPrice,o.priceI=e.incTable.ware[a][i].price!==1/0?e.incTable.ware[a][i].price:0,o.quantityS=o.quantityE-o.quantityI,o.priceS=o.priceI?o.priceI:o.priceE,o.totalPriceS=o.priceS*o.quantityS):(o.quantityI=0,o.totalPriceI=0,o.priceI=0,o.quantityS=o.quantityE,o.totalPriceS=o.totalPriceE,o.priceS=o.priceE)}else o.quantityI=0,o.totalPriceI=0,o.priceI=0,o.quantityS=o.quantityE,o.totalPriceS=o.totalPriceE,o.priceS=o.priceE;r.colors.push(o)}r.quantityE=0,r.quantityI=0,r.quantityS=0,r.totalPriceE=0,r.totalPriceI=0,r.totalPriceS=0,r.colors.map((function(e){r.quantityE+=e.quantityE,r.quantityI+=e.quantityI,r.quantityS+=e.quantityS,r.totalPriceE+=e.totalPriceE,r.totalPriceI+=e.totalPriceI,r.totalPriceS+=e.totalPriceS})),r.priceE=r.totalPriceE/r.quantityE,r.priceI=0===r.totalPriceI||0===r.quantityI?0:r.totalPriceI/r.quantityI,r.priceS=r.totalPriceS/r.quantityS;var m=l.a.createElement("tr",null,l.a.createElement("th",null,n+1),l.a.createElement("th",null,r.name),l.a.createElement("th",null),l.a.createElement("th",null,r.quantityE),l.a.createElement("th",null,r.totalPriceE.toFixed(0)),l.a.createElement("th",null,r.priceE.toFixed(2)),l.a.createElement("th",null,r.quantityI),l.a.createElement("th",null,r.totalPriceI.toFixed(0)),l.a.createElement("th",null,r.priceI.toFixed(2)),l.a.createElement("th",null,r.quantityS),l.a.createElement("th",null,r.totalPriceS.toFixed(0)),l.a.createElement("th",null,r.priceS.toFixed(2))),s=r.colors.map((function(e,t){return l.a.createElement("tr",{key:"".concat(r.name,"_").concat(e.color)},l.a.createElement("td",null,"".concat(n+1,".").concat(t+1)),l.a.createElement("td",null),l.a.createElement("td",null,e.color),l.a.createElement("td",null,e.quantityE),l.a.createElement("td",null,e.totalPriceE.toFixed(0)),l.a.createElement("td",null,e.priceE.toFixed(2)),l.a.createElement("td",null,e.quantityI),l.a.createElement("td",null,e.totalPriceI.toFixed(0)),l.a.createElement("td",null,e.priceI.toFixed(2)),l.a.createElement("td",null,e.quantityS),l.a.createElement("td",null,e.totalPriceS.toFixed(0)),l.a.createElement("td",null,e.priceS.toFixed(2)))}));return t.quantityE+=r.quantityE,t.totalPriceE+=r.totalPriceE,t.quantityI+=r.quantityI,t.totalPriceI+=r.totalPriceI,t.quantityS+=r.quantityS,t.totalPriceS+=r.totalPriceS,l.a.createElement("tbody",{key:a},m,s)})):null,n=e.loaded?Object.keys(e.expTable.subware).sort().map((function(a,n){var r={};r.name=a,r.colors=[];for(var c=0;c<e.expTable.subware[a].length;c++){var o={};if(o.color=e.expTable.subware[a][c].color,o.quantityE=e.expTable.subware[a][c].quantity,o.totalPriceE=e.expTable.subware[a][c].totalPrice,o.priceE=e.expTable.subware[a][c].price,e.incTable.subware[a]){for(var i=!1,u=0;u<e.incTable.subware[a].length;u++)e.incTable.subware[a][u].color===o.color&&(i=u);"number"==typeof i?(o.quantityI=e.incTable.subware[a][i].quantity,o.totalPriceI=e.incTable.subware[a][i].totalPrice,o.priceI=e.incTable.subware[a][i].price!==1/0?e.incTable.subware[a][i].price:0,o.quantityS=o.quantityE-o.quantityI,o.priceS=o.priceI?o.priceI:o.priceE,o.totalPriceS=o.priceS*o.quantityS):(o.quantityI=0,o.totalPriceI=0,o.priceI=0,o.quantityS=o.quantityE,o.totalPriceS=o.totalPriceE,o.priceS=o.priceE)}else o.quantityI=0,o.totalPriceI=0,o.priceI=0,o.quantityS=o.quantityE,o.totalPriceS=o.totalPriceE,o.priceS=o.priceE;r.colors.push(o)}r.quantityE=0,r.quantityI=0,r.quantityS=0,r.totalPriceE=0,r.totalPriceI=0,r.totalPriceS=0,r.colors.map((function(e){r.quantityE+=e.quantityE,r.quantityI+=e.quantityI,r.quantityS+=e.quantityS,r.totalPriceE+=e.totalPriceE,r.totalPriceI+=e.totalPriceI,r.totalPriceS+=e.totalPriceS})),r.priceE=r.totalPriceE/r.quantityE,r.priceI=0===r.totalPriceI||0===r.quantityI?0:r.totalPriceI/r.quantityI,r.priceS=r.totalPriceS/r.quantityS;var m=l.a.createElement("tr",null,l.a.createElement("th",null,n+1),l.a.createElement("th",null,r.name),l.a.createElement("th",null),l.a.createElement("th",null,r.quantityE),l.a.createElement("th",null,r.totalPriceE.toFixed(0)),l.a.createElement("th",null,r.priceE.toFixed(2)),l.a.createElement("th",null,r.quantityI),l.a.createElement("th",null,r.totalPriceI.toFixed(0)),l.a.createElement("th",null,r.priceI.toFixed(2)),l.a.createElement("th",null,r.quantityS),l.a.createElement("th",null,r.totalPriceS.toFixed(0)),l.a.createElement("th",null,r.priceS.toFixed(2))),s=r.colors.map((function(e,t){return l.a.createElement("tr",{key:"".concat(r.name,"_").concat(e.color)},l.a.createElement("td",null,"".concat(n+1,".").concat(t+1)),l.a.createElement("td",null),l.a.createElement("td",null,e.color),l.a.createElement("td",null,e.quantityE),l.a.createElement("td",null,e.totalPriceE.toFixed(0)),l.a.createElement("td",null,e.priceE.toFixed(2)),l.a.createElement("td",null,e.quantityI),l.a.createElement("td",null,e.totalPriceI.toFixed(0)),l.a.createElement("td",null,e.priceI.toFixed(2)),l.a.createElement("td",null,e.quantityS),l.a.createElement("td",null,e.totalPriceS.toFixed(0)),l.a.createElement("td",null,e.priceS.toFixed(2)))}));return t.quantityE+=r.quantityE,t.totalPriceE+=r.totalPriceE,t.quantityI+=r.quantityI,t.totalPriceI+=r.totalPriceI,t.quantityS+=r.quantityS,t.totalPriceS+=r.totalPriceS,l.a.createElement("tbody",{key:a},m,s)})):null,r=l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"\u0412\u0441\u044c\u043e\u0433\u043e"),l.a.createElement("th",null),l.a.createElement("th",null,t.quantityE),l.a.createElement("th",null,t.totalPriceE),l.a.createElement("th",null),l.a.createElement("th",null,t.quantityI),l.a.createElement("th",null,t.totalPriceI),l.a.createElement("th",null),l.a.createElement("th",null,t.quantityS),l.a.createElement("th",null,t.totalPriceS.toFixed(2)),l.a.createElement("th",null));return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u0422\u043e\u0432\u0430\u0440"),l.a.createElement("th",null,"\u041a\u043e\u043b\u0456\u0440"),l.a.createElement("th",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0432\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043e"),l.a.createElement("th",null,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0432\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043e"),l.a.createElement("th",null,"\u0421\u043e\u0431\u0456\u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043e\u0434\u0438\u043d\u0438\u0446\u0456"),l.a.createElement("th",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u043d\u043e"),l.a.createElement("th",null,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u043d\u043e"),l.a.createElement("th",null,"\u0426\u0456\u043d\u0430 \u043e\u0434\u0438\u043d\u0438\u0446\u0456 \u043f\u0440\u043e\u0434\u0430\u043d\u043e"),l.a.createElement("th",null,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"),l.a.createElement("th",null,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"),l.a.createElement("th",null,"\u0426\u0456\u043d\u0430 \u043e\u0434\u0438\u043d\u0438\u0446\u0456 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"))),a,n,l.a.createElement("tbody",null,r)))})),M=Object(i.b)((function(e){return{expData:e.data.expData,incData:e.data.incData}}),(function(e){return{createExpTable:function(t){return e(function(e){var t={},a={},n={},l={};return e&&(Object.keys(e).map((function(l,r){if("\u0422\u043e\u0432\u0430\u0440"===e[l].type)if(t.hasOwnProperty(e[l].name)){for(var c=!1,o=0;o<t[e[l].name].length;o++)e[l].color===t[e[l].name][o].color&&(t[e[l].name][o].quantity+=e[l].quantity,t[e[l].name][o].totalPrice+=e[l].totalPrice,t[e[l].name][o].price=t[e[l].name][o].totalPrice/t[e[l].name][o].quantity,c=!0);if(!c){var i={};i.color=e[l].color,i.quantity=e[l].quantity,i.totalPrice=e[l].totalPrice,i.price=e[l].totalPrice/e[l].quantity,t[e[l].name].push(i)}}else{t[e[l].name]=[];var u={};u.color=e[l].color,u.quantity=e[l].quantity,u.totalPrice=e[l].totalPrice,u.price=e[l].totalPrice/e[l].quantity,t[e[l].name].push(u)}if("\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===e[l].type)if(a.hasOwnProperty(e[l].name)){for(var m=!1,s=0;s<a[e[l].name].length;s++)e[l].color===a[e[l].name][s].color&&(a[e[l].name][s].quantity+=e[l].quantity,a[e[l].name][s].totalPrice+=e[l].totalPrice,a[e[l].name][s].price=a[e[l].name][s].totalPrice/a[e[l].name][s].quantity,m=!0);if(!m){var p={};p.color=e[l].color,p.quantity=e[l].quantity,p.totalPrice=e[l].totalPrice,p.price=e[l].totalPrice/e[l].quantity,a[e[l].name].push(p)}}else{a[e[l].name]=[];var E={};E.color=e[l].color,E.quantity=e[l].quantity,E.totalPrice=e[l].totalPrice,E.price=e[l].totalPrice/e[l].quantity,a[e[l].name].push(E)}if("\u0412\u0438\u0442\u0440\u0430\u0442\u0430"===e[l].type)if(n.hasOwnProperty(e[l].name)){for(var b=!1,y=0;y<n[e[l].name].length;y++)e[l].color===n[e[l].name][y].color&&(n[e[l].name][y].quantity+=e[l].quantity,n[e[l].name][y].totalPrice+=e[l].totalPrice,n[e[l].name][y].price=n[e[l].name][y].totalPrice/n[e[l].name][y].quantity,b=!0);if(!b){var d={};d.color=e[l].color,d.quantity=e[l].quantity,d.totalPrice=e[l].totalPrice,d.price=e[l].totalPrice/e[l].quantity,n[e[l].name].push(d)}}else{n[e[l].name]=[];var f={};f.color=e[l].color,f.quantity=e[l].quantity,f.totalPrice=e[l].totalPrice,f.price=e[l].totalPrice/e[l].quantity,n[e[l].name].push(f)}})),l.ware=t,l.subware=a,l.exp=n),{type:"CREATE_EXP_TABLE",expTable:l}}(t))},createIncTable:function(t){return e(function(e){var t={},a={},n={};return e&&(Object.keys(e).map((function(n,l){e[n].income.map((function(l,r){var c={type:l.type},o=0===r?e[n].price:0;if(c[l.name]={color:l.color,quantity:l.quantity,totalPrice:o,price:l.quantity/o},"\u0422\u043e\u0432\u0430\u0440"===c.type)if(t[e[n].income[r].name]){for(var i=!1,u=0;u<t[e[n].income[r].name].length;u++)t[e[n].income[r].name][u].color===c[l.name].color&&(t[e[n].income[r].name][u].quantity+=c[l.name].quantity,t[e[n].income[r].name][u].totalPrice+=c[l.name].totalPrice,t[e[n].income[r].name][u].price=t[e[n].income[r].name][u].totalPrice/t[e[n].income[r].name][u].quantity,i=!0);i||t[e[n].income[r].name].push(c[l.name])}else t[e[n].income[r].name]=[],t[e[n].income[r].name].push(c[l.name]);else if("\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440"===c.type)if(a[e[n].income[r].name]){for(var m=!1,s=0;s<a[e[n].income[r].name].length;s++)a[e[n].income[r].name][s].color===c[l.name].color&&(a[e[n].income[r].name][s].quantity+=c[l.name].quantity,a[e[n].income[r].name][s].totalPrice+=c[l.name].totalPrice,a[e[n].income[r].name][s].price=a[e[n].income[r].name][s].totalPrice/a[e[n].income[r].name][s].quantity,m=!0);m||a[e[n].income[r].name].push(c[l.name])}else a[e[n].income[r].name]=[],a[e[n].income[r].name].push(c[l.name])}))})),n.ware=t,n.subware=a),{type:"CREATE_INC_TABLE",incTable:n}}(t))}}}))((function(e){return Object(n.useEffect)((function(){e.createExpTable(e.expData),e.createIncTable(e.incData)}),[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement(R,null))}));function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var B=Object(i.b)((function(e){return{complectsData:e.data.complectsData,lists:e.data.lists,idToken:e.auth.idToken}}),(function(e){return{setDataComplects:function(t){return e(q(t))}}}))((function(e){var t=e.lists.wares.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})),a=e.lists.subwares.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}));return l.a.createElement(d.e,{initialValues:{name:"",complect:[{name:"",copyColor:!1}]},validate:function(t){var a={},n=0;return Object.keys(e.complectsData).map((function(a){e.complectsData[a].name===t.name&&n++})),n>0&&(a.complectExists="\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442 \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454"),""===t.name&&(a.name="\u041d\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u043e \u0442\u043e\u0432\u0430\u0440\u0443!"),t.complect.length<1&&(a.complect="\u041d\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u043e \u0441\u0443\u043f\u0443\u0442\u043d\u044c\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443!"),t.complect.map((function(e,n){t.complect[n].name&&"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"!==t.complect[n].name||(a.name="\u041d\u0430\u0437\u0432\u0430 \u0441\u0443\u043f\u0443\u0442\u043d\u044c\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443 \u043d\u0435 \u043e\u0431\u0440\u0430\u043d\u0430!")})),a},isSubmitting:!1,onSubmit:function(t,a,n){var l=a.setSubmitting,r=a.resetForm;t.time=(new Date).toISOString().split("T")[0],v.post("/complects.json?auth="+e.idToken,t).then((function(a){console.log(a),l(!1);var c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.complectsData,Object(y.a)({},a.data.name,t));e.setDataComplects(c),r(n)})).catch((function(e){console.log(e)}))},render:function(e){var n=e.isSubmitting,r=e.values;e.setFieldValue;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement(d.d,null,l.a.createElement("fieldset",null,l.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement(d.b,{component:"select",name:"name"},l.a.createElement("option",{value:"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"},"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"),t)),l.a.createElement(d.c,{name:"complect",render:function(e){return l.a.createElement(l.a.Fragment,null,r.complect&&r.complect.length>0?r.complect.map((function(t,n){return l.a.createElement(h.a,{key:n},l.a.createElement(O.a,{xs:5},l.a.createElement("fieldset",null,l.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430 \u0441\u0443\u043f\u0443\u0442\u043d\u044c\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443"),l.a.createElement(d.b,{component:"select",name:"complect.".concat(n,".name")},l.a.createElement("option",{value:"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"},"--\u041e\u0431\u0435\u0440\u0438 \u043d\u0430\u0437\u0432\u0443--"),a))),l.a.createElement(O.a,{xs:2},l.a.createElement("fieldset",null,l.a.createElement("label",null,"\u041c\u0430\u0454 \u043a\u043e\u043b\u0456\u0440"),l.a.createElement(d.b,{name:"complect.".concat(n,".copyColor"),type:"checkbox",value:"complect.".concat(n,".copyColor"),className:"checkbox"}))),l.a.createElement(O.a,{xs:1},l.a.createElement("button",{className:"button-x",type:"button",onClick:function(){return e.remove(n)}},"x")))})):null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement("button",{type:"button",onClick:function(){e.push({name:"",copyColor:!1})}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u044f\u0434\u043e\u043a"))),l.a.createElement(h.a,null,l.a.createElement(O.a,{xs:{span:3,offset:9}},l.a.createElement("button",{className:"submitData",type:"submit",disabled:n},"\u0412\u043d\u0435\u0441\u0442\u0438"))))}})))))}})})),G=Object(i.b)((function(e){return{complectsData:e.data.complectsData,loaded:e.data.loaded,idToken:e.auth.idToken}}),(function(e){return{setDataComplects:function(t){return e(q(t))}}}))((function(e){var t=function(t){var a=t.target.id;v.delete("/complects/"+a+".json?auth="+e.idToken).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var n={};for(var l in e.complectsData)l!==a&&(n[l]=e.complectsData[l]);e.setDataComplects(n)},a=e.loaded?Object.keys(e.complectsData).reverse().map((function(a,n){var r=e.complectsData[a].complect.map((function(e,t){return l.a.createElement("tr",{key:"".concat(a,"_").concat(t)},l.a.createElement("td",null),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.copyColor?"\u0422\u0430\u043a":"\u041d\u0456"),l.a.createElement("td",null))}));return l.a.createElement("tbody",{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,n+1),l.a.createElement("td",null,e.complectsData[a].name),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("button",{id:a,onClick:t},"x"))),r)})):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430"),l.a.createElement("th",null,"\u0427\u0438 \u043c\u0430\u0454 \u043a\u043e\u043b\u0456\u0440"),l.a.createElement("th",null,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"))),a))})),K=(a(196),a(197),Object(i.b)((function(e){return{authData:e.auth,expData:e.data.expData,incData:e.data.incData}}),(function(e){return{getDataEI:function(t){return e(function(e){return function(t){v.get("/.json?auth="+e).then((function(e){console.log(e.data),t(S(e.data.exp)),t(x(e.data.inc)),t(q(e.data.complects))})).catch((function(e){console.log(e)}))}}(t))},createFormLists:function(t){return e(function(e){var t=[],a=[],n=[],l=[];return Object.keys(e).map((function(r){switch(e[r].type){case"\u0422\u043e\u0432\u0430\u0440":t.indexOf(e[r].name)>-1||t.push(e[r].name);break;case"\u0421\u0443\u043f\u0443\u0442\u043d\u0456\u0439 \u0442\u043e\u0432\u0430\u0440":a.indexOf(e[r].name)>-1||a.push(e[r].name);break;case"\u0412\u0438\u0442\u0440\u0430\u0442\u0430":n.indexOf(e[r].name)>-1||n.push(e[r].name)}l.indexOf(e[r].color)>-1||l.push(e[r].color)})),t.sort(),a.sort(),n.sort(),l.sort(),{type:"CREATE_FORM_LISTS",lists:{wares:t,subwares:a,exps:n,colors:l}}}(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0];a[1];return Object(n.useEffect)((function(){e.getDataEI(e.authData.idToken)}),[r]),Object(n.useEffect)((function(){e.expData&&Object.keys(e.expData).length>0&&e.createFormLists(e.expData)}),[e.expData]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{defaultActiveKey:"storage",id:"uncontrolled-tab-example"},l.a.createElement(b.a,{eventKey:"exp",title:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438"},l.a.createElement(N,null),l.a.createElement(C,null)),l.a.createElement(b.a,{eventKey:"inc",title:"\u0414\u043e\u0445\u043e\u0434\u0438"},l.a.createElement(A,null),l.a.createElement(L,null)),l.a.createElement(b.a,{eventKey:"storage",title:"\u0421\u043a\u043b\u0430\u0434"},l.a.createElement(M,null)),l.a.createElement(b.a,{eventKey:"complects",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0438"},l.a.createElement(B,null),l.a.createElement(G,null))),!e.authData.signedIn&&l.a.createElement(s.a,{to:"/sena-totem"}))}))),U=(a(208),Object(i.b)((function(e){return{}}),(function(e){return{logIn:function(t){return e(function(e){return function(t){t({type:"LOG_IN_START"}),e.returnSecureToken=!0,P.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDFX9LAlOi-6ONPEXG3hw22qJT5aIo91Z4",e).then((function(e){var a=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("userId",e.data.localId),localStorage.setItem("expirationDate",a),t(T(e.data.idToken,e.data.localId)),t(j(e.data.expiresIn))})).catch((function(e){console.log(e)}))}}(t))}}}))((function(e){return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement("div",{className:"authForm"},l.a.createElement(d.e,{initialValues:{email:"",password:""},onSubmit:function(t,a){var n=a.setSubmitting;e.logIn(t),n(!1)}},(function(e){var t=e.isSubmitting;e.values,e.setFieldValue;return l.a.createElement(d.d,null,l.a.createElement(d.b,{type:"email",name:"email",placeholder:"Email"}),l.a.createElement(d.b,{type:"password",name:"password",placeholder:"Password"}),l.a.createElement("button",{type:"submit",disabled:t},"Log In"))}))))))}))),X=a(324),H=a(322),W=a(166),J=a(158),z=a.n(J),Z=(a(209),Object(i.b)((function(e){return{authState:e.auth.signedIn}}),(function(e){return{logOut:function(){return e(D())}}}))((function(e){return l.a.createElement(X.a,{bg:"dark",variant:"dark"},l.a.createElement(o.b,{to:"/sena-totem",exact:!0},l.a.createElement(X.a.Brand,null,l.a.createElement(H.a,{src:z.a})," ")),l.a.createElement(W.a,{className:"mr-auto"},l.a.createElement(o.b,{className:"nav-link",to:"/sena-totem",exact:!0},"Home"),e.authState&&l.a.createElement(o.b,{className:"nav-link",to:"/sena-totem/workarea",exact:!0},"Work Area"),e.authState&&l.a.createElement("button",{className:"logout",onClick:e.logOut},"Log Out")))}))),$=a(323),Q=function(e){return l.a.createElement($.a,{data:[{x:1,y:e.chartData.exp,y0:0,label:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438",labelNumber:e.chartData.exp},{x:2,y:e.chartData.inc,y0:0,label:"\u0414\u043e\u0445\u043e\u0434\u0438",labelNumber:e.chartData.inc},{x:3,y:e.chartData.inc,y0:e.chartData.exp,label:"\u041f\u0440\u0438\u0431\u0443\u0442\u043e\u043a",labelNumber:e.chartData.profit}],events:[{target:"data",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(e){return console.log(e),e.text==="".concat(e.datum.labelNumber.toFixed(0)," \u0433\u0440\u043d.")?null:{text:"".concat(e.datum.labelNumber.toFixed(0)," \u0433\u0440\u043d.")}}}]}}}]})},Y=(a(311),Object(i.b)((function(e){return{expTable:e.tables.expTable,incTable:e.tables.incTable,totalStatsTable:e.tables.totalStatsTable,incErrors:e.tables.incErrors}}),(function(e){return{countTotalStats:function(t,a){return e(function(e,t){var a={exp:{ware:0,subware:0,exp:0},inc:{ware:0,subware:0}};return e&&Object.keys(e).length>0&&Object.keys(e.ware).length>0&&Object.keys(e.subware).length>0&&Object.keys(e.exp).length>0&&Object.keys(e).map((function(t){Object.keys(e[t]).map((function(n){e[t][n].map((function(e){a.exp[t]+=e.totalPrice}))}))})),t&&Object.keys(t).length>0&&Object.keys(t.ware).length>0&&Object.keys(t.subware).length>0&&Object.keys(t).map((function(e){Object.keys(t[e]).map((function(n){t[e][n].map((function(t){a.inc[e]+=t.totalPrice}))}))})),console.log(a),{type:"COUNT_TOTAL_STATS",totalStatsTable:a}}(t,a))},checkForIncErrors:function(t,a){return e(function(e,t){var a=w({},t.ware,{},t.subware),n=w({},e.ware,{},e.subware),l=[];return Object.keys(a).map((function(e){a[e].map((function(t,a){if(n[e]){var r=!0;n[e].map((function(e){e.color===t.color&&(r=!1)})),r&&l.push(Object(y.a)({},"".concat(e),t))}else l.push(Object(y.a)({},"".concat(e),0))}))})),{type:"CHECK_FOR_INC_ERRORS",incErrors:l}}(t,a))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)({exp:0,inc:0,profit:0}),i=Object(p.a)(o,2),u=i[0],m=i[1];Object(n.useEffect)((function(){e.countTotalStats(e.expTable,e.incTable),e.checkForIncErrors(e.expTable,e.incTable),c(!0)}),[e.expTable,e.incTable]),Object(n.useEffect)((function(){if(r){var t={exp:e.totalStatsTable.exp.ware+e.totalStatsTable.exp.subware+e.totalStatsTable.exp.exp,inc:e.totalStatsTable.inc.ware+e.totalStatsTable.inc.subware,profit:e.totalStatsTable.inc.ware+e.totalStatsTable.inc.subware-(e.totalStatsTable.exp.ware+e.totalStatsTable.exp.subware+e.totalStatsTable.exp.exp)};console.log(t),m(t)}}),[r]);var s=r?e.incErrors.map((function(e,t){return l.a.createElement("p",{key:t},l.a.createElement("span",{className:"errorMessage"},Object.keys(e).toString(),", \u043a\u043e\u043b\u0456\u0440: ",e[Object.keys(e)].color,", \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",e[Object.keys(e)].quantity,", \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c ",e[Object.keys(e)].totalPrice))})):null;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement(Q,{chartData:u}))),e.incErrors.length>0&&l.a.createElement(h.a,null,l.a.createElement(O.a,null,l.a.createElement("h1",null,"\u0412\u0438\u044f\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0443 \u0434\u043e\u0445\u043e\u0434\u0430\u0445:"),s)))}))),ee=(a(312),function(){return l.a.createElement("div",{className:"loader"},"loading... :)")}),te=(a(313),Object(i.b)((function(e){return{authData:e.auth}}),(function(e){return{authCheckState:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(D());else{var n=localStorage.getItem("userId");e(T(t,n)),e(j((a.getTime()-(new Date).getTime())/1e3))}}else e(D())}))}}}))((function(e){return Object(n.useEffect)((function(){e.authCheckState()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Z,null),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/sena-totem/workarea"},l.a.createElement(K,null)),l.a.createElement(s.b,{path:"/"},!e.authData.signedIn&&!e.authData.loading&&l.a.createElement(U,null),e.authData.loading&&l.a.createElement(ee,null),e.authData.signedIn&&!e.authData.loading&&l.a.createElement(Y,null))),e.authData.signedIn&&l.a.createElement(s.a,{to:"/sena-totem/workarea"}))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le={expData:{},incData:{},complectsData:{},lists:{wares:[],subwares:[],exps:[],colors:[]},loaded:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA_EXP":return ne({},e,{expData:t.exp,loaded:!0});case"SET_DATA_INC":return ne({},e,{incData:t.inc,loaded:!0});case"SET_DATA_COMPLECTS":return ne({},e,{complectsData:t.complects,loaded:!0});case"CREATE_FORM_LISTS":return ne({},e,{lists:t.lists});default:return e}};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={idToken:localStorage.getItem("token"),userId:localStorage.getItem("userId"),signedIn:!1,loading:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_START":return oe({},e,{loading:!0});case"LOG_IN_SUCCESS":return oe({},e,{idToken:t.idToken,userId:t.userId,signedIn:!0,loading:!1});case"LOG_OUT":return oe({},e,{idToken:null,userId:null,signedIn:!1});default:return e}};function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe={expTable:{},incTable:{},totalStatsTable:{},incErrors:[],loaded:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_EXP_TABLE":return se({},e,{expTable:t.expTable,loaded:!0});case"CREATE_INC_TABLE":return se({},e,{incTable:t.incTable,loaded:!0});case"COUNT_TOTAL_STATS":return se({},e,{totalStatsTable:t.totalStatsTable});case"CHECK_FOR_INC_ERRORS":return se({},e,{incErrors:t.incErrors});default:return e}},be=u.d,ye=Object(u.c)({data:re,auth:ue,tables:Ee}),de=Object(u.e)(ye,be(Object(u.a)(m.a))),fe=l.a.createElement(i.a,{store:de},l.a.createElement(o.a,null,l.a.createElement(te,null)));c.a.render(fe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[167,1,2]]]);
//# sourceMappingURL=main.c926188e.chunk.js.map